services:

  wdio-cucumber:
    build: .
    image: wdio-cucumber
    container_name: webdriver-cuke
    environment:
      TEST_ENVIRONMENT_ROOT_URL: ${TEST_ENVIRONMENT_ROOT_URL}
      TEST_TAGS: ${TEST_TAGS}
      CHROME_ARGS: "--headless --ignore-certificate-errors"
      HOST_NAME: "hub.browserstack.com"
      BROWSERSTACK_USERNAME: ${BROWSERSTACK_USERNAME}
      BROWSERSTACK_ACCESS_KEY: ${BROWSERSTACK_ACCESS_KEY}
      BROWSERSTACK_PROJECT_NAME: ${BROWSERSTACK_PROJECT_NAME}
      TEST_BROWSER: 'chrome'


# Make sure to run using below command `docker-compose up --exit-code-from wdio-cucumber`
      # `--exit-code-from wdio-cucumber` command will exit all service if wdio-cucumber exits

# docker-compose run --remove-orphans --rm wdio-cucumber



